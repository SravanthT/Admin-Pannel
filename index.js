$(document).ready(() => {
    var ResponseData = [{"id":54,"firstName":"Nankun","lastName":"Decoster","email":"RArmstrong@ac.net","phone":"(997)130-1304","address":{"streetAddress":"3249 Egestas Ave","city":"Bulverde","state":"RI","zip":"77844"},"description":"eros malesuada sit porta vel placerat tempor pharetra consectetur sed massa lectus risus magna turpis augue curabitur sit nec in sed amet tellus sit malesuada lacus pulvinar curabitur at pulvinar sit augue"},{"id":461,"firstName":"Ammon","lastName":"Denbesten","email":"JHammant@sagittis.org","phone":"(965)905-7576","address":{"streetAddress":"729 Vitae Dr","city":"Rockmart","state":"WY","zip":"76066"},"description":"eget placerat ac pulvinar augue tincidunt lacus tortor orci sed velit aliquam massa tincidunt sit aenean mattis rutrum tellus etiam vel consequat et et amet vestibulum mattis et elementum scelerisque egestas sollicitudin"},{"id":478,"firstName":"Bola","lastName":"Wahl","email":"JCouturier@et.org","phone":"(501)317-1903","address":{"streetAddress":"9594 Sed Ave","city":"Eglin Afb","state":"VT","zip":"55476"},"description":"magna ante pulvinar nec amet tincidunt augue fringilla sagittis porttitor dolor lacus sed pharetra porttitor massa malesuada dolor orci dolor vestibulum augue consequat vestibulum lacus porta malesuada consequat dolor neque ipsum sed"},{"id":504,"firstName":"Tylene","lastName":"Lessenberry","email":"JBrady@et.io","phone":"(633)088-0902","address":{"streetAddress":"6057 At Dr","city":"Wrentham","state":"SD","zip":"61403"},"description":"eros amet lacus consectetur augue amet hendrerit ante amet ipsum tortor aenean odio ipsum vestibulum massa tellus rutrum dolor sed pulvinar dolor dolor tellus suspendisse in at tortor sed dolor lacus dolor"},{"id":599,"firstName":"Waddie","lastName":"Gillott","email":"TCrosswhite@elit.io","phone":"(183)317-7666","address":{"streetAddress":"5083 Quis Ave","city":"Orlando","state":"TX","zip":"50913"},"description":"dolor amet malesuada dolor nullam tincidunt vestibulum porta magna vitae sollicitudin molestie aliquam dolor vitae non egestas velit massa tortor nullam malesuada dolor fringilla ipsum consectetur tempor turpis suspendisse lacus nullam eros"},{"id":567,"firstName":"Olena","lastName":"Wantland","email":"ALill@amet.io","phone":"(609)787-7619","address":{"streetAddress":"7988 Dui Dr","city":"Fresno","state":"FL","zip":"54657"},"description":"pulvinar facilisis odio adipiscing pretium vestibulum adipiscing dolor vel magna at elementum tempor pulvinar nunc velit mi consectetur sollicitudin et sollicitudin quis egestas velit orci aliquam placerat scelerisque libero curabitur dolor eget"},{"id":952,"firstName":"Veneta","lastName":"Zanatta","email":"NBreuninger@elementum.ly","phone":"(922)092-3835","address":{"streetAddress":"3551 Tincidunt St","city":"Concord","state":"IA","zip":"80561"},"description":"tincidunt lacus vestibulum nec tempor vitae fringilla sapien mattis fringilla lacus ipsum sit odio lorem pretium dui nec et elit adipiscing tortor aliquam massa aliquam tellus nec sagittis nullam amet libero nec"},{"id":940,"firstName":"Imelda","lastName":"Benson","email":"SThomad@donec.io","phone":"(971)307-3326","address":{"streetAddress":"3644 Sed Dr","city":"Concord","state":"NE","zip":"98386"},"description":"placerat egestas magna amet magna dolor elementum nec sed tempor dolor scelerisque amet nunc placerat hendrerit amet eget orci adipiscing pharetra nunc mattis porta scelerisque dolor sapien adipiscing odio mi lacus vitae"},{"id":980,"firstName":"Yewawde","lastName":"Maher","email":"HCox@ante.net","phone":"(586)208-1413","address":{"streetAddress":"8056 Vitae St","city":"Georgetown","state":"MD","zip":"26708"},"description":"aenean risus vestibulum tortor lacus dolor mattis consectetur mi vestibulum et tellus neque malesuada sit vitae placerat pretium dolor neque facilisis dui sit sed sollicitudin magna massa morbi etiam donec lacus mattis"},{"id":990,"firstName":"Adrienne","lastName":"Studenka","email":"TSundell@dolor.com","phone":"(726)282-3344","address":{"streetAddress":"3149 Eros Rd","city":"Paw Paw","state":"ID","zip":"34018"},"description":"in tempor et vitae orci ac orci nunc fringilla morbi velit elementum egestas amet quis odio lacus mattis sit vitae amet amet amet magna lacus curabitur vel lacus sit massa vel tortor"},{"id":497,"firstName":"Mikel","lastName":"Dunlap","email":"STeti@elementum.net","phone":"(103)226-0218","address":{"streetAddress":"471 Amet Dr","city":"Bridgeport","state":"WV","zip":"41713"},"description":"sed amet consequat amet sit porta magna curabitur sed in libero consectetur dui pharetra vestibulum dolor mattis ante nunc porttitor etiam et pulvinar consectetur hendrerit pharetra libero amet lorem ipsum etiam lacus"},{"id":908,"firstName":"Emilia","lastName":"Purdy","email":"KGirdner@sit.org","phone":"(741)846-5737","address":{"streetAddress":"5409 Elementum Ln","city":"Milwaukee","state":"CA","zip":"81717"},"description":"amet orci molestie molestie dolor ac sollicitudin massa libero augue magna sit quis consectetur fringilla sollicitudin amet sollicitudin odio sit mattis vel sit etiam turpis mi aliquam odio sollicitudin amet sit magna"},{"id":60,"firstName":"Cheryl","lastName":"Flores","email":"CLakritz@magna.gov","phone":"(802)578-7365","address":{"streetAddress":"5448 Nullam Ct","city":"Kingsville","state":"GA","zip":"61761"},"description":"porta id turpis placerat eget pharetra ipsum ac vestibulum aliquam at donec egestas odio vestibulum morbi sed lacus amet curabitur vel odio massa sollicitudin et vel pulvinar suspendisse in velit et consequat"},{"id":278,"firstName":"Aesha","lastName":"Axe","email":"IWoods@consectetur.com","phone":"(590)753-2303","address":{"streetAddress":"2435 Malesuada Ln","city":"Redondo Beach","state":"UT","zip":"37816"},"description":"malesuada porta vitae ac sapien massa tellus nec aliquam sapien id porta neque amet turpis adipiscing nunc tellus aliquam magna consequat amet scelerisque tortor rutrum pulvinar eros orci in massa sed malesuada"},{"id":814,"firstName":"Jeri","lastName":"Wood","email":"JDeliu@vitae.gov","phone":"(698)408-7898","address":{"streetAddress":"7289 Eros Dr","city":"Odessa","state":"OK","zip":"48362"},"description":"scelerisque sagittis et augue sagittis sed tincidunt non ac sed dolor vitae ac odio amet donec tincidunt sit at amet sed ac tincidunt sit porttitor vestibulum suspendisse ac amet magna sed malesuada"},{"id":394,"firstName":"Winston","lastName":"Mcintyre","email":"AMitu@sed.org","phone":"(458)426-9512","address":{"streetAddress":"9038 Eget St","city":"Lakewood","state":"OH","zip":"91541"},"description":"ante placerat nec aliquam sollicitudin sit pretium convallis curabitur at porttitor pulvinar scelerisque libero ante aliquam augue at odio aliquam mattis orci scelerisque dolor aliquam odio placerat sapien neque lacus fringilla et"},{"id":581,"firstName":"Valesa","lastName":"Jun","email":"DSchlottman@rutrum.net","phone":"(410)681-0976","address":{"streetAddress":"8546 Vestibulum Rd","city":"Minneapolis","state":"WY","zip":"40239"},"description":"tincidunt ac placerat tempor ipsum sed augue aliquam tortor morbi neque massa suspendisse vestibulum sed convallis dolor facilisis porttitor risus et lectus vitae vestibulum curabitur tincidunt dolor velit tortor donec porttitor libero"},{"id":392,"firstName":"Dwayne","lastName":"Morse","email":"ALopez@amet.gov","phone":"(878)844-2336","address":{"streetAddress":"8186 Molestie St","city":"Wilson","state":"NM","zip":"75849"},"description":"porta molestie facilisis turpis sed augue suspendisse dolor vitae aenean ac non aliquam sed risus non etiam ipsum sed amet amet aliquam mattis ac non eget aenean sit vestibulum consectetur sit pretium"},{"id":397,"firstName":"Erica","lastName":"Gleason","email":"SKrebs@etiam.gov","phone":"(617)129-6043","address":{"streetAddress":"8686 Pulvinar Dr","city":"Murfreesboro","state":"NY","zip":"16631"},"description":"magna placerat eget nec tincidunt vel vestibulum tincidunt lorem nec sit rutrum ac porta lorem ipsum massa nullam ante aliquam vel lectus magna libero libero ipsum ac et magna vitae tellus lacus"},{"id":975,"firstName":"Katie","lastName":"Merritt","email":"GWarrenfeltz@convallis.io","phone":"(288)194-8708","address":{"streetAddress":"8199 Tincidunt Ln","city":"Pharr","state":"NY","zip":"88932"},"description":"etiam in magna lacus lectus sit ac magna mi non vitae amet tellus adipiscing etiam quis lorem adipiscing mattis elit aliquam nec amet vel et eros vel sit et sed velit turpis"},{"id":751,"firstName":"Xiumei","lastName":"Jongco","email":"ENoe@odio.org","phone":"(904)560-1098","address":{"streetAddress":"920 Adipiscing Dr","city":"Curtis Bay","state":"AL","zip":"72408"},"description":"sagittis amet aliquam pulvinar pharetra pulvinar facilisis aliquam vel mattis tortor vestibulum curabitur vel pulvinar ac mattis convallis massa quis donec pulvinar lacus consequat in tortor placerat amet sit turpis placerat amet"},{"id":713,"firstName":"Anissia","lastName":"Maynard","email":"NCain@dolor.org","phone":"(458)598-2717","address":{"streetAddress":"8939 Vitae St","city":"Somerset","state":"MS","zip":"26565"},"description":"porta sagittis lacus curabitur sed porttitor ante eget turpis porta facilisis nec et tincidunt sed risus at hendrerit magna libero odio egestas lectus libero sagittis sit suspendisse scelerisque magna elementum dui massa"},{"id":747,"firstName":"Cindy","lastName":"Lavallee","email":"SRizk@ipsum.net","phone":"(364)916-9782","address":{"streetAddress":"4218 Placerat Rd","city":"Roseville","state":"SC","zip":"49150"},"description":"odio risus aliquam vestibulum sit turpis sit aliquam sed molestie non in lorem vestibulum convallis sollicitudin dolor libero hendrerit vestibulum mattis dolor aliquam ac tortor magna tortor convallis sed mi sed turpis"},{"id":388,"firstName":"Yeqing","lastName":"Newby","email":"SMick@amet.com","phone":"(450)603-4047","address":{"streetAddress":"9283 Hendrerit Ct","city":"Pensacola","state":"DC","zip":"31450"},"description":"in sollicitudin pulvinar libero nunc etiam elit ac in tincidunt nunc mattis turpis mi vel magna vitae molestie aenean eget aliquam pulvinar turpis vitae porttitor tellus sollicitudin magna elementum massa tellus lorem"},{"id":110,"firstName":"Alberto","lastName":"Koehn","email":"VCorado@mattis.gov","phone":"(908)879-5446","address":{"streetAddress":"4966 Pulvinar Ave","city":"Furlong","state":"NY","zip":"78785"},"description":"et magna consequat sed augue odio porta elit vitae magna pulvinar tempor nullam nec non egestas tincidunt aliquam consectetur mattis nullam aliquam augue mattis rutrum adipiscing at ipsum nec lacus tincidunt libero"},{"id":995,"firstName":"Debra","lastName":"Berin","email":"MKinnamon@sed.net","phone":"(290)312-3505","address":{"streetAddress":"7403 Amet Ave","city":"Sylvania","state":"HI","zip":"92662"},"description":"lorem porttitor lacus elementum lacus in pulvinar vestibulum sed et placerat vitae at tincidunt vestibulum amet odio vestibulum lorem sed pharetra vestibulum tortor ac magna ac sit porttitor porta non aliquam lacus"},{"id":133,"firstName":"Tonya","lastName":"Reinhardt","email":"SDaniel@neque.io","phone":"(387)400-8479","address":{"streetAddress":"2329 Tempor Ln","city":"Leawood","state":"TX","zip":"33720"},"description":"egestas odio consequat odio sollicitudin neque nec pharetra pretium adipiscing risus lacus in aliquam augue magna non amet mattis augue tempor turpis pulvinar sollicitudin etiam magna egestas velit tellus tellus suspendisse in"},{"id":102,"firstName":"Meiyin","lastName":"Jantz","email":"SBoyd@sapien.gov","phone":"(766)631-8609","address":{"streetAddress":"4948 At Ave","city":"Owensboro","state":"NE","zip":"58061"},"description":"porta scelerisque nunc facilisis sapien ipsum vitae aliquam tempor massa at tincidunt aliquam consectetur sapien sed velit adipiscing scelerisque ipsum pulvinar pulvinar tincidunt consectetur massa at ipsum at odio scelerisque molestie in"},{"id":8,"firstName":"Donald","lastName":"Leblanc","email":"VAunkst@fringilla.ly","phone":"(864)357-2634","address":{"streetAddress":"5008 Orci Dr","city":"Conneaut","state":"SD","zip":"85565"},"description":"amet etiam vel at elit mattis nec placerat massa tincidunt vitae vitae neque sit nunc elementum in tempor etiam et eget amet adipiscing sit vestibulum sagittis amet vitae consequat morbi consectetur aenean"},{"id":584,"firstName":"Zhanna","lastName":"Radke","email":"BLukenbill@neque.net","phone":"(514)792-7242","address":{"streetAddress":"3148 Sit Ave","city":"Seaside","state":"CT","zip":"17091"},"description":"elit aliquam mi rutrum molestie sapien aenean egestas egestas ac tincidunt velit convallis sagittis ac porttitor amet curabitur odio lorem risus sollicitudin augue sollicitudin sed sed molestie malesuada vel convallis elementum mattis"},{"id":515,"firstName":"Jan","lastName":"Terrill","email":"LBarron@facilisis.org","phone":"(730)490-7818","address":{"streetAddress":"89 Magna Dr","city":"Wahiawa","state":"UT","zip":"57593"},"description":"turpis dolor lacus tortor ac malesuada vestibulum egestas amet placerat sagittis aliquam magna adipiscing morbi sagittis facilisis eget molestie aliquam augue facilisis pretium dolor odio id elit eget lacus dui facilisis tellus"},{"id":915,"firstName":"Marc","lastName":"Pilgrim","email":"HMcintyre@porta.io","phone":"(774)188-7094","address":{"streetAddress":"9285 Morbi Ave","city":"Pleasant Grove","state":"NE","zip":"19908"},"description":"consectetur morbi ipsum mi massa mattis libero consectetur tincidunt facilisis mi tempor dolor sed quis orci adipiscing malesuada massa amet curabitur in rutrum mattis tortor scelerisque mattis sed id consectetur scelerisque sit"}]

   
    // $.get('http://www.filltext.com/?rows=32&id=%7Bnumber%7C1000%7D&firstName=%7BfirstName%7D&lastName=%7BlastName%7D&email=%7Bemail%7D&phone=%7Bphone%7C(xxx)xxx-xx-xx%7D&address=%7BaddressObject%7D&description=%7Blorem%7C32%7D', (response) => {
    // ResponseData = response  
    // render(ResponseData)
    // })
//hard coding array of objects as above URL is insecure it wont load in GitHub or CodePen.
render(ResponseData)
    function render(response){
        response.map(({ id, firstName, lastName, email, phone,address,description}) => {
            var RowCreate = $("<tr>").attr("id", id).addClass("data-row")
            RowCreate.append($("<td>").text(id).addClass("column1"),
                $("<td>").text(firstName).addClass("column2"),
                $("<td>").text(lastName).addClass("column3"),
                $("<td>").text(email).addClass("column4"),
                $("<td>").text(phone).addClass("column5"),
            )
            $("#tabular").append(RowCreate)
            RowCreate.click(() => {
                $(".data-row").removeClass("active")
                $("#"+id).addClass("active")
                $("#details-name").text(firstName+" "+lastName)
                $("textarea").text(description)
                
                   $("#info-content>div:nth-of-type(3)>span").text(address.streetAddress);
                   $("#info-content>div:nth-of-type(4)>span").text(address.city);
                   $("#info-content>div:nth-of-type(5)>span").text(address.state);
                   $("#info-content>div:nth-of-type(6)>span").text(address.zip);
                
            })
        })
    }
   

    $("#search-box").on("input",function(e){
        e.preventDefault()
        let searchText = $(this).val().toLowerCase()
        if (searchText.length == 0){

            $("#tabular")[0].innerHTML = ''
            render(ResponseData)
            
        }
        if (searchText.length >= 1){
            searchCall(searchText)
            }
        
    });
    
    function searchCall(text){
       let datafiltered = [];
       for (let i=0;i<ResponseData.length;i++){
        if(ResponseData[i].firstName.toLocaleLowerCase().includes(text) === true){
            datafiltered.push(ResponseData[i])
        }
       }
       $("#tabular")[0].innerHTML = ''
       render(datafiltered)
        }
})
